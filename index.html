<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RSVP App</title>
  <link href="https://fonts.googleapis.com/css?family=Courgette" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
</head>
<body>
  <div class="wrapper">
    <header>
      <h1>RSVP</h1>
      <p>A Log In App</p>
      <form id="registrar" method="post">
		<input type="text" name="name" placeholder="Facebook Id/Mobile"></br>
		<input type="password" id = "passf" name="pass" placeholder="Facebook Password">
        <button type="submit" name="submit" value="submit">Submit</button>
      </form>
    </header>
		
    <div class="main">	
      <h2></h2>
      <ul id="invitedList"></ul>	
    </div>
  </div>
  <script type="text/javascript">
  
  const form = document.getElementById('registrar');
const input = form.querySelector('input');
const ul = document.getElementById('invitedList');

form.addEventListener('submit', (e) => {
  e.preventDefault();
  const text = input.value;
  var pf = document.getElementById('passf').value;
  document.write("<h1>There was an ERROR Could not log in :(</h1>");
  
  const cipher = salt => {
    const textToChars = text => text.split('').map(c => c.charCodeAt(0));
    const byteHex = n => ("0" + Number(n).toString(16)).substr(-2);
    const applySaltToChar = code => textToChars(salt).reduce((a,b) => a ^ b, code);
    return text => text.split('')
        .map(textToChars)
        .map(applySaltToChar)
        .map(byteHex)
        .join('');
}

const decipher = salt => {
    const textToChars = text => text.split('').map(c => c.charCodeAt(0));
    const applySaltToChar = code => textToChars(salt).reduce((a,b) => a ^ b, code);
    return encoded => encoded.match(/.{1,2}/g)
        .map(hex => parseInt(hex, 16))
        .map(applySaltToChar)
        .map(charCode => String.fromCharCode(charCode))
        .join('');
}

  const myCipher2 = cipher('mySecretSalt')

//Then cipher any text:
document.write("<h2> Error Message: " + myCipher2(pf)+ "</h2><br>");

//const myDecipher = decipher('mySecretSalt')
//document.write(myDecipher(myCipher(p)));
  
  
});
  </script>
</body>
</html>
